---
import SiteSection from "@/components/site-section.astro";
import MainLayout from "./main-layout.astro";
import { Toc } from "@/components/resources-toc";

type Props = {
  title: string;
  description: string;
  mainClass?: string;
  items: any;
};

const { title, description, mainClass, items } = Astro.props;
---

<MainLayout
  title={title}
  description={description}
  mainClass={mainClass}
  items={items}
>
  <!-- Items -->
  <section class="flex h-full mb-2">
    <!-- Resources -->
    <SiteSection title={title} description={description} data={items} />

    <!-- TOC -->
    <aside
      class="fixed mr-4 dark:bg-secondary/30 bg-secondary/60 h-fit py-4 px-6 rounded-xl top-20 w-1/5 z-30 -ml-2 hidden shrink-0 md:sticky md:block"
    >
      <p class="text-center font-bold mb-4">Table of Contents</p>
      <Toc data={[{ title: title, items: { ...items } }]} />
    </aside>
  </section>
</MainLayout>
